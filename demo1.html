<!--
 * @Author: yangying01
 * @Date: 2020-10-26 14:42:21
 * @LastEditors: yangying01
 * @LastEditTime: 2020-10-26 17:30:52
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // ------------------------------------------------------
    // 给你一个数组 nums，对于其中每个元素 nums[i]，请你统计数组中比它小的所有数字的数目。
    // 换而言之，对于每个 nums[i] 你必须计算出有效的 j 的数量，其中 j 满足 j != i 且 nums[j] < nums[i] 。
    // 以数组形式返回答案。
    // 输入：nums = [8,1,2,2,3]
    // 输出：[4,0,1,1,3]

    // 暴力破解法
    // 时间复杂度 O（n*n） 空间复杂度 O（1）返回数组不计算在内
    function getLessNums(arr){
      let lessArr = []
      let n = 0
      // 排序
      for(let i = 0; i < arr.length; i++){
        let n = 0
        for(let j = 0; j < arr.length; j++){
          if(j != i && arr[j] < arr[i]){
            n = n + 1
          }
        }
        lessArr[i] = n
      }

      console.log(arr.join(','),'结果：', lessArr.join(','))

    }

    // getLessNums([8,1,2,2,3])

    // getLessNums([7,7,7])


    // 快排
    // 时间复杂度 O（nlong(n)） 空间复杂度 O（n）返回数组不计算在内
    function getLessNums2(arr){
      let numArr = new Array(arr.length).fill(0).map(item => new Array(2).fill(0))

      numArr.map((item, index) => {
        item[0] = arr[index]
        item[1] = index
      })
      
      numArr.sort((a, b) => {return a[0] - b[0] })

      let lessArr = []
      let n = 0
      numArr.map((item, i) => {
        if(i > 0){
          if(i == 0 || numArr[i][0] != numArr[i-1][0]){
            n = i
          }
        }

        lessArr[item[1]] = n
      })


      console.log(arr.join(','),'结果：', lessArr.join(','))
      


    }

    getLessNums2([7,7,7,7])



  </script>
</body>
</html>